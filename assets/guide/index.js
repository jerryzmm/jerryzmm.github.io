System.register("chunks:///_virtual/guide",["./GuideClickUI.ts","./GuideDialogueUI.ts","./GuideFingerUI.ts","./GuideMaskUI.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/GuideClickUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoreImport.ts"],(function(n){var e,i,o,t,s;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy},function(n){o=n.ccclass,t=n.EUILayer,s=n.BaseUI}],execute:function(){var c;i._RF.push({},"2381c8CU4xCVarv+h+vV2V5","GuideClickUI",void 0);n("GuideClickUI",o("GuideClickUI")(c=function(n){function i(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))||this).layerType=t.GuideUp,e._openData=null,e}e(i,n);var o=i.prototype;return o.onOpen=function(){this.DragonBonesCC.setPositionX(-1e4,!1);var n=this._openData.finger;n?null!=n.delay&&n.delay>=0?this.scheduleOnce(this.setFingerPosition,n.delay):this.setFingerPosition():this.onClose()},o.onClose=function(){this.DragonBonesCC.setPositionX(-1e4,!1),this.DragonBonesCC.node.active=!1},o.onClick=function(n){this.closeUI(),this._openData.click(n)},o.setFingerPosition=function(){var n,e=null==(n=this._openData.finger)?void 0:n.position;"function"==typeof e&&(e=e()),this.DragonBonesCC.setPositionXY(e,!0),this.DragonBonesCC.node.active=!0},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/GuideDialogueUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoreImport.ts"],(function(t){var e,i,o,n,a,l,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.ccclass,n=t.NodeHelper,a=t.MaxBoxCC,l=t.EUILayer,u=t.BaseUI}],execute:function(){var s;i._RF.push({},"6629cOTixRPKoIvv+0sds3c","GuideDialogueUI",void 0);t("GuideDialogueUI",o("GuideDialogueUI")(s=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).layerType=l.GuideUp,e.cBottom=null,e._openData=null,e}e(i,t);var o=i.prototype;return o.onCreate=function(){this.AnimtorCC.play("GuideDialogueDefault"),n.setPositionY(this.cBottom,a.worldYBottom(),!0)},o.onOpen=function(){this.Label.string=this._openData.dec,this._openData.openAnim?this.AnimtorCC.play("GuideDialogueShow"):this.AnimtorCC.play("GuideDialogueDefault")},o.onClick=function(){var t=this;if(!this.AnimtorCC.hasPlayComplete()){this._openData.click&&this._openData.click();var e=function(){t.closeUI(),t._openData.closeCb()};this._openData.closeAnim?this.AnimtorCC.play("GuideDialogueHide",0,e):e()}},i}(u))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/GuideFingerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoreImport.ts"],(function(t){var e,n,i,o,a,s,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Vec2},function(t){o=t.ccclass,a=t._main,s=t._guide,r=t.EUILayer,c=t.BaseUI}],execute:function(){var u;n._RF.push({},"f048dS0kvxMTpasLDcjbcwG","GuideFingerUI",void 0);var l=new i;t("GuideFingerUI",o("GuideFingerUI")(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).layerType=r.GuideUp,e._openData=null,e}e(n,t);var i=n.prototype;return i.onCreate=function(){var t=this;this.addEvent(a.EventType.TOUCH_UP,(function(e){(void 0===t._openData.touchStartCloseUI||t._openData.touchStartCloseUI)&&t.closeUI(),t._openData.range&&t._openData.clickRange&&(e.getUILocation(l),t._openData.range.contains(l)&&t._openData.clickRange(e)),t._openData.click&&t._openData.click(e),s.emit(s.EventType.FINGER_CLICK)}),this,a)},i.onOpen=function(){this.AnimtorCC.setPositionX(-1e4,!1);var t=this._openData;null!=t.delay&&t.delay>=0?this.scheduleOnce(this.setFingerPosition,t.delay):this.setFingerPosition()},i.onClose=function(){this.AnimtorCC.setPositionX(-1e4,!1)},i.setFingerPosition=function(){var t=this._openData.position;"function"==typeof t&&(t=t()),this.AnimtorCC.setPositionXY(t,!0),this.AnimtorCC.setRotateZ(this._openData.angle||0,!1)},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GuideMaskUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoreImport.ts"],(function(t){var e,i,n,o,s,r,a,l,h,c,u,p,f,d,g,_,v,w,y,T,P,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,r=t.createClass},function(t){a=t.cclegacy,l=t.Vec2,h=t.Prefab,c=t.Vec3,u=t.Node},function(t){p=t.ccclass,f=t.property,d=t.EUILayer,g=t._timer,_=t.NodeHelper,v=t.Vector2,w=t.Sets,y=t._ui,T=t.CGuideDefine,P=t.TweenHelper,m=t.BaseUI}],execute:function(){var D,S,U,G,b;a._RF.push({},"752f3lthFZBmImBQbw6x0Bq","GuideMaskUI",void 0);var I=new l;t("GuideMaskUI",(D=p("GuideMaskUI"),S=f({type:h,displayName:"手指"}),D((b=e((G=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).layerType=d.WindowUpAfter,n(e,"fingerPrefab",b,o(e)),e.cMask_hollow=null,e.cFingerParent=null,e.cAItemParent=null,e.cGraphics_outline=null,e.cSprite_finger=null,e.cAText=null,e.cLabel_str=null,e._openData=null,e.hollows=[],e.orginFingerPostion=new c,e.framFingerPostion=new c,e.toFingerPostion=new c,e}i(e,t);var a=e.prototype;return a.onCreate=function(){this.orginFingerPostion.set(this.cSprite_finger.node.worldPosition)},a.onOpen=function(){var t=this;this.onClose(),this.outlineGraphics.enabled=!1,this._openData.text&&g.once(this,(function(){t.cAText.active=!0,t.cLabel_str.string=t._openData.text.str,_.setPositionXY(t.cAText,t._openData.text.worldPos,!0)}),this._openData.text.delay);var e=this._openData.drag;if(e?(v.set(this.framFingerPostion,e.framWorldPosition),v.set(this.toFingerPostion,e.toWorldPosition),this.cSprite_finger.enabled=!0,this.fingerTween.start()):(this.fingerTween.stop(),this.cSprite_finger.enabled=!1,this.ParticleSystem2D&&this.ParticleSystem2D.resetSystem()),this._openData.hollows&&this._openData.hollows.length>0){this.BlockInputEvents.enabled=!0,this.cMask_hollow.node.active=!0;for(var i,n=function(){var e=i.value;-1==e.delay?t.initHowllow(e):t.scheduleOnce((function(){t.initHowllow(e)}),e.delay)},o=s(this._openData.hollows);!(i=o()).done;)n();this.graphics.fill(),this.outlineGraphics.enabled&&this.outlineGraphics&&this.outlineGraphics.stroke(),this.node.on(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(u.EventType.TOUCH_END,this._onTouchEnd,this)}else this.BlockInputEvents.enabled=!1,this.cMask_hollow.node.active=!1},a.onClose=function(){this.ParticleSystem2D&&this.ParticleSystem2D.resetSystem(),this.node.off(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(u.EventType.TOUCH_END,this._onTouchEnd,this),this.cAText.active=!1,this.hollows.length=0,this.graphics.clear(),this.graphics.rect(-1e5,1e4,1,1),this.graphics.fill(),this.outlineGraphics.enabled&&this.outlineGraphics&&(this.outlineGraphics.clear(),this.outlineGraphics.rect(-1e5,1e4,1,1),this.outlineGraphics.fill()),this.cAItemParent.destroyAllChildren(),w.forEach(this.cFingerParent.children,(function(t){return y.pool.put(t)})),g.clearAll(this)},a.update=function(t){if(this._isOpen_){for(var e,i=!1,n=s(this.hollows);!(e=n()).done;){var o=e.value;o.onUpdate&&o.onUpdate(t),o.onUpdate2&&o.onUpdate2(t),!i&&o.dirty&&(i=!0)}i&&(this.graphics.clear(),this.outlineGraphics.enabled&&this.outlineGraphics&&this.outlineGraphics.clear());for(var r,a=s(this.hollows);!(r=a()).done;){var l=r.value;l.isDraw&&i&&l.draw&&l.draw(),l.dirty=!1}i&&(this.graphics.fill(),this.outlineGraphics.enabled&&this.outlineGraphics&&this.outlineGraphics.stroke())}},a.initHowllow=function(t){this.hollows.push(t),t.isFingerAnim&&(t.fingerNode=y.pool.get(T.fingerUrl),_.setPositionX(t.fingerNode,-1e4,!1),t.fingerNode.active=!0,this.cFingerParent.addChild(t.fingerNode),_.setRotateZ(t.fingerNode,t.fingerAngle,!1)),t.init(this.cAItemParent,this.graphics,this.cGraphics_outline)},a._onTouchEnd=function(t){t.getUILocation(I);var e=!1,i=!1,n=this._openData.touchEvent;n&&n.end&&(n.end.checkHollow?(t.getUILocation(I),this.touchByHollow()&&n.end.fn(t)):n.end.fn(t));for(var o,r=s(this.hollows);!(o=r()).done;){var a=o.value;(this._openData.anyTrigger||a.intersection(I))&&(a.onClick(t),e||(i||(i=!0,this._openData.clickShapeByCloseUI&&this.closeUI()),e=!0))}return this._openData.drag&&(P.hasRun(this.cSprite_finger.node)||this.fingerTween.start()),!1},a._onTouchStart=function(t){var e=this._openData.drag;t.getUILocation(I),e&&e.startRect&&e.startRect.contains(I)&&(e.touchStart(),this.fingerTween.stop(),this.cSprite_finger.enabled=!1);var i=this._openData.touchEvent;i&&i.start&&(i.start.checkHollow?(t.getUILocation(I),this.touchByHollow()&&i.start.fn(t)):i.start.fn(t))},a._onTouchMove=function(t){var e=this._openData.touchEvent;e&&e.move&&(e.move.checkHollow?(t.getUILocation(I),this.touchByHollow()&&e.move.fn(t)):e.move.fn(t))},a.touchByHollow=function(){if(this._openData.hollows)for(var t,e=s(this._openData.hollows);!(t=e()).done;){if(t.value.intersection(I))return!0}return!1},r(e,[{key:"graphics",get:function(){return this.cMask_hollow.subComp}},{key:"outlineGraphics",get:function(){return this.cGraphics_outline}},{key:"fingerTween",get:function(){var t=this;return P.getTween(this.cSprite_finger.node,"move",(function(e){return e.set({worldPosition:t.framFingerPostion}).call((function(){t.cSprite_finger.enabled=!0,t.ParticleSystem2D&&t.ParticleSystem2D.resetSystem()})).to(1,{worldPosition:t.toFingerPostion}).call((function(){t.cSprite_finger.enabled=!1,t.ParticleSystem2D&&t.ParticleSystem2D.stopSystem()})).delay(1.5).union().repeatForever(),{worldPosition:t.orginFingerPostion}}))}}]),e}(m)).prototype,"fingerPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=G))||U));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/guide', 'chunks:///_virtual/guide'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});